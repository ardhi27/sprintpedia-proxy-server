{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"sources":["file:///Users/agungardhiyanda/Documents/GitHub/sprirntpedia-proxy-server/src/app/api/auth/ardhi/token/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport axios, { AxiosError } from \"axios\";\nimport * as cheerio from \"cheerio\";\n\nexport async function GET() {\n  try {\n    const client = axios.create({\n      baseURL: \"https://sprintpedia.id\",\n      withCredentials: true,\n      headers: { \"User-Agent\": \"Mozilla/5.0\" },\n    });\n\n    const loginPage = await client.get(\"/auth/login\");\n    const cookies: string[] = loginPage.headers[\"set-cookie\"] || [];\n\n    const $ = cheerio.load(loginPage.data);\n    const csrfToken = $(\"input[name=csrf_token]\").val();\n\n    if (!csrfToken) {\n      return NextResponse.json(\n        { error: \"csrf_token not found\" },\n        { status: 400 }\n      );\n    }\n\n    const cookieString = cookies.map((c) => c.split(\";\")[0]).join(\"; \");\n\n    return NextResponse.json(\n      { csrf_token: csrfToken, cookie: cookieString },\n      { status: 200 }\n    );\n  } catch (err) {\n    const error = err as AxiosError;\n    return NextResponse.json(\n      { error: error.message || \"Failed to get csrf_token\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAAA;;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,SAAS,qMAAK,CAAC,MAAM,CAAC;YAC1B,SAAS;YACT,iBAAiB;YACjB,SAAS;gBAAE,cAAc;YAAc;QACzC;QAEA,MAAM,YAAY,MAAM,OAAO,GAAG,CAAC;QACnC,MAAM,UAAoB,UAAU,OAAO,CAAC,aAAa,IAAI,EAAE;QAE/D,MAAM,IAAI,qNAAY,CAAC,UAAU,IAAI;QACrC,MAAM,YAAY,EAAE,0BAA0B,GAAG;QAEjD,IAAI,CAAC,WAAW;YACd,OAAO,+QAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAuB,GAChC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,eAAe,QAAQ,GAAG,CAAC,CAAC,IAAM,EAAE,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC;QAE9D,OAAO,+QAAY,CAAC,IAAI,CACtB;YAAE,YAAY;YAAW,QAAQ;QAAa,GAC9C;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,KAAK;QACZ,MAAM,QAAQ;QACd,OAAO,+QAAY,CAAC,IAAI,CACtB;YAAE,OAAO,MAAM,OAAO,IAAI;QAA2B,GACrD;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}